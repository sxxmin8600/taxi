<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>카카오 지도</title>
  <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=8fd6d41454e6fa45741e0496262031a6&libraries=services&autoload=false"></script>
</head>
<body style="margin:0;padding:0;">

  <div id="map" style="width:100%;height:90vh;"></div>

  <!-- Flutter로 메시지 보내는 버튼 -->
  <button onclick="sendMessageToFlutter()" style="width:100%;height:10vh;font-size:20px;">
    Flutter로 메시지 보내기
  </button>

  <script>
    kakao.maps.load(() => {
      try {
        var container = document.getElementById('map');
        var options = {
          center: new kakao.maps.LatLng(37.5665, 126.9780),
          level: 3
        };
        var map = new kakao.maps.Map(container, options);
      } catch (e) {
        alert("지도 로딩 오류: " + e.message);
      }
    });

    // ✅ Flutter로 메시지 보내는 함수
    function sendMessageToFlutter() {
      if (window.KakaoChannel) {
        KakaoChannel.postMessage("Flutter야 안녕! 나는 JS야 👋");
      } else {
        alert("Flutter WebView 환경이 아니야 😭");
      }
    }
  </script>
</body>
</html>

